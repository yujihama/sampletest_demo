# Agent Inbox LangGraph Example

LangGraph Serverã‚’ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã™ã‚‹Agent Inboxç®¡ç†ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç®¡ç†ã¨Human-in-the-Loopï¼ˆHITLï¼‰æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

## ğŸ—ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
agent-inbox-langgraph-example/
â”œâ”€â”€ agent-inbox-main/          # ç¾åœ¨ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Next.js)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/              # Next.js App Router
â”‚   â”‚   â”‚   â”œâ”€â”€ agent-inbox/  # Agent Inboxæ©Ÿèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ app-sidebar/  # ã‚µã‚¤ãƒ‰ãƒãƒ¼
â”‚   â”‚   â”‚   â”œâ”€â”€ icons/        # ã‚¢ã‚¤ã‚³ãƒ³
â”‚   â”‚   â”‚   â””â”€â”€ ui/           # UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ hooks/            # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ lib/              # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ pages/api/            # API Routes
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ src/agent/                # LangGraph ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
â”œâ”€â”€ docs/                     # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ data/                     # ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ langgraph.json            # LangGraphè¨­å®š
â”œâ”€â”€ pyproject.toml            # Pythonä¾å­˜é–¢ä¿‚
â””â”€â”€ README.md
```

## ğŸš€ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **LangGraph Server**: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®Ÿè¡ŒåŸºç›¤
- **Python**: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (agent-inbox-main)
- **Next.js 14.2.25**: Reactãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ (App Router)
- **TypeScript**: å‹å®‰å…¨æ€§
- **Tailwind CSS**: ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
- **Radix UI**: UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŸºç›¤
- **shadcn/ui**: ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
- **Assistant UI React**: ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½
- **LangGraph SDK**: LangGraphã¨ã®é€šä¿¡

### ä¸»è¦ä¾å­˜é–¢ä¿‚
```json
{
  "@langchain/langgraph-sdk": "^0.0.83",
  "@assistant-ui/react": "^0.5.71",
  "@radix-ui/react-*": "^1.x.x",
  "@tanstack/react-table": "^8.20.5",
  "framer-motion": "^11.11.9"
}
```

## ğŸ¯ ä¸»è¦æ©Ÿèƒ½

### 1. Agent Inboxç®¡ç†
- è¤‡æ•°ã®LangGraphãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆå¯¾å¿œ
- ãƒ­ãƒ¼ã‚«ãƒ«ãƒ»ãƒªãƒ¢ãƒ¼ãƒˆç’°å¢ƒã®çµ±åˆç®¡ç†
- LangSmith API ã‚­ãƒ¼ç®¡ç†
- ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¨­å®šã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤

### 2. Threadç®¡ç†
- **ã‚¹ãƒ¬ãƒƒãƒ‰ä¸€è¦§è¡¨ç¤º**: ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ»ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ
- **å€‹åˆ¥ã‚¹ãƒ¬ãƒƒãƒ‰è©³ç´°è¡¨ç¤º**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å±¥æ­´ã¨çŠ¶æ…‹ç¢ºèª
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†**: 
  - `interrupted`: å‰²ã‚Šè¾¼ã¿çŠ¶æ…‹
  - `idle`: å¾…æ©ŸçŠ¶æ…‹
  - `busy`: å®Ÿè¡Œä¸­
  - `error`: ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹
  - `all`: å…¨ã¦è¡¨ç¤º

### 3. Human-in-the-Loopæ©Ÿèƒ½
- **ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‰²ã‚Šè¾¼ã¿å‡¦ç†**: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‹ã‚‰ã®ç¢ºèªè¦æ±‚
- **ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ãƒ¬ã‚¹ãƒãƒ³ã‚¹**: 
  - `accept`: æ‰¿èª
  - `ignore`: ç„¡è¦–
  - `response`: ã‚«ã‚¹ã‚¿ãƒ å¿œç­”
  - `edit`: ç·¨é›†
- **ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†**: æŸ”è»Ÿãªæ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### 4. ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œ
- **ãƒ•ã‚©ãƒ«ãƒ€ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**: è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€æ‹¬ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- **ãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**: ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- **ãƒ•ã‚©ãƒ«ãƒ€ä¸€è¦§**: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ãƒ•ã‚©ãƒ«ãƒ€ã®ç®¡ç†

### 5. Graphå®Ÿè¡Œãƒ»ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ 
- **ã‚°ãƒ©ãƒ•å®Ÿè¡Œ**: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æ‰‹å‹•å®Ÿè¡Œã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ¼ãƒªãƒ³ã‚°**: 3ç§’é–“éš”ã§ã®å®Ÿè¡ŒçŠ¶æ³ç›£è¦–
- **ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¯¾å¿œ**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ å‡¦ç†
- **å®Ÿè¡Œå±¥æ­´ç®¡ç†**: éå»ã®å®Ÿè¡Œçµæœã®ä¿å­˜ãƒ»å‚ç…§
- **è‡ªå‹•çŠ¶æ…‹æ›´æ–°**: pending â†’ running â†’ idle/error/interrupted ã®ç›£è¦–
- **ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ è¡¨ç¤º**: å®Ÿè¡Œçµæœã®ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼è¡¨ç¤º
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒ»ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã®é©åˆ‡ãªå‡¦ç†

## ğŸ”Œ APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### Next.js API Routes (`/api/`)
| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|---------------|---------|------|
| `/api/get_runs_history` | GET | ã‚¹ãƒ¬ãƒƒãƒ‰å±¥æ­´ã®å–å¾— |
| `/api/upload-folder` | POST | ãƒ•ã‚©ãƒ«ãƒ€ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ |
| `/api/list-folders` | GET | ãƒ•ã‚©ãƒ«ãƒ€ä¸€è¦§ã®å–å¾— |
| `/api/download-file` | GET | ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ |

### LangGraph SDK Client ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ (client.*)
**ThreadsClient:**
| ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|---------|------|
| `client.threads.search()` | ã‚¹ãƒ¬ãƒƒãƒ‰æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆmetadata, status, valuesï¼‰ |
| `client.threads.get()` | ç‰¹å®šã‚¹ãƒ¬ãƒƒãƒ‰ã®è©³ç´°å–å¾— |
| `client.threads.create()` | æ–°è¦ã‚¹ãƒ¬ãƒƒãƒ‰ä½œæˆ |
| `client.threads.getState()` | ã‚¹ãƒ¬ãƒƒãƒ‰çŠ¶æ…‹ãƒ»å€¤ã®å–å¾— |
| `client.threads.updateState()` | ã‚¹ãƒ¬ãƒƒãƒ‰çŠ¶æ…‹ã®æ›´æ–°ï¼ˆHITLå¯¾å¿œï¼‰ |
| `client.threads.copy()` | ã‚¹ãƒ¬ãƒƒãƒ‰ã®è¤‡è£½ |
| `client.threads.delete()` | ã‚¹ãƒ¬ãƒƒãƒ‰å‰Šé™¤ |
| `client.threads.get_history()` | ã‚¹ãƒ¬ãƒƒãƒ‰å±¥æ­´å–å¾— |

**RunsClient:**
| ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|---------|------|
| `client.runs.create()` | æ–°è¦Runä½œæˆãƒ»å®Ÿè¡Œé–‹å§‹ |
| `client.runs.create(threadId, graphId, { command: { resume: [response] } })` | **interruptåœ°ç‚¹ã‹ã‚‰ã®å†é–‹ï¼ˆHITLå‡¦ç†ï¼‰** |
| `client.runs.stream()` | ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å®Ÿè¡Œï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼‰ |
| `client.runs.get()` | RunçŠ¶æ…‹ãƒ»è©³ç´°å–å¾— |
| `client.runs.list()` | Runä¸€è¦§å–å¾— |
| `client.runs.join()` | Runå®Œäº†å¾…æ©Ÿï¼ˆæœ€çµ‚çŠ¶æ…‹å–å¾—ï¼‰ |
| `client.runs.join_stream()` | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‚åŠ  |
| `client.runs.wait()` | Runå®Œäº†ã¾ã§å¾…æ©Ÿ |
| `client.runs.cancel()` | Runä¸­æ­¢ |
| `client.runs.delete()` | Runå‰Šé™¤ |
| `client.runs.create_batch()` | ãƒãƒƒãƒRunä½œæˆ |

**AssistantsClient (å‚ç…§):**
| ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|---------|------|
| `client.assistants.get()` | Assistantæƒ…å ±å–å¾— |
| `client.assistants.search()` | Assistantæ¤œç´¢ |
| `client.assistants.get_graph()` | ã‚°ãƒ©ãƒ•æ§‹é€ å–å¾— |
| `client.assistants.get_schemas()` | ã‚¹ã‚­ãƒ¼ãƒå–å¾— |

### HITL (Human-in-the-Loop) å‡¦ç†ãƒ•ãƒ­ãƒ¼
1. **å®Ÿè¡Œé–‹å§‹**: `client.runs.create(threadId, graphId, { input: data })`
2. **interruptæ¤œçŸ¥**: `thread.status === 'interrupted'`
3. **HumanResponseé€ä¿¡**: `client.runs.create(threadId, graphId, { command: { resume: [humanResponse] } })`
4. **å‡¦ç†ç¶™ç¶š**: interruptåœ°ç‚¹ã‹ã‚‰å®Ÿè¡Œå†é–‹

**HumanResponseå½¢å¼**:
```javascript
{
  type: "response" | "accept" | "ignore" | "edit",
  args: string | null | ActionRequest
}
```

### LangGraph Server RESTã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ (å†…éƒ¨å®Ÿè£…)
**Threadsç®¡ç†:**
| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|-------------|--------|------|
| `/threads/{id}` | GET | ã‚¹ãƒ¬ãƒƒãƒ‰è©³ç´°ï¼ˆstatus, valueså«ã‚€ï¼‰ |
| `/threads` | POST | ã‚¹ãƒ¬ãƒƒãƒ‰ä½œæˆ |
| `/threads/search` | POST | ã‚¹ãƒ¬ãƒƒãƒ‰æ¤œç´¢ï¼ˆmetadata, status, valuesï¼‰ |
| `/threads/{id}/state` | GET | ã‚¹ãƒ¬ãƒƒãƒ‰çŠ¶æ…‹å–å¾— |
| `/threads/{id}/state` | POST | ã‚¹ãƒ¬ãƒƒãƒ‰çŠ¶æ…‹æ›´æ–° |
| `/threads/{id}/history` | GET | ã‚¹ãƒ¬ãƒƒãƒ‰å±¥æ­´ |

**Runsç®¡ç†:**
| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|-------------|--------|------|
| `/threads/{id}/runs` | POST | Runä½œæˆãƒ»å®Ÿè¡Œ |
| `/threads/{id}/runs/{run_id}` | GET | Runè©³ç´°å–å¾— |
| `/threads/{id}/runs/stream` | POST | ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å®Ÿè¡Œ |
| `/threads/{id}/runs/{run_id}/stream` | GET | ã‚¹ãƒˆãƒªãƒ¼ãƒ å‚åŠ  |
| `/threads/{id}/runs/{run_id}/join` | GET | Runå®Œäº†å¾…æ©Ÿ |
| `/threads/{id}/runs/wait` | POST | Runå¾…æ©Ÿ |
| `/runs/stream` | POST | ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹å®Ÿè¡Œ |
| `/runs/wait` | POST | ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹å¾…æ©Ÿ |

**Webhookãƒ»Cronæ©Ÿèƒ½:**
| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|-------------|--------|------|
| `/threads/{id}/runs/crons` | POST | Threadç”¨Cronä½œæˆ |
| `/runs/crons` | POST | Cronä½œæˆ |
| ã™ã¹ã¦ã®Runç³» | ALL | `webhook`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¯¾å¿œï¼ˆå®Œäº†é€šçŸ¥ï¼‰ |

**ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ•ã‚©ãƒ«ãƒ€ç®¡ç† (ãƒ—ãƒ­ã‚­ã‚·):**
| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | èª¬æ˜ |
|---------------|------|
| `${deploymentUrl}/upload-folder/` | ãƒ•ã‚©ãƒ«ãƒ€ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ |
| `${deploymentUrl}/list-folders/` | ãƒ•ã‚©ãƒ«ãƒ€ä¸€è¦§å–å¾— |

## ğŸ›ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ 
```
RootLayout
â”œâ”€â”€ ThreadsProvider (Context)
â”œâ”€â”€ SidebarProvider + AppSidebar
â””â”€â”€ AgentInbox (ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ)
    â”œâ”€â”€ AgentInboxView (30%å¹…)
    â”‚   â”œâ”€â”€ InboxItem (ã‚¹ãƒ¬ãƒƒãƒ‰é …ç›®)
    â”‚   â”œâ”€â”€ ThreadView (è©³ç´°è¡¨ç¤º)
    â”‚   â””â”€â”€ Pagination (ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³)
    â””â”€â”€ GraphExecutionPanel (70%å¹…)
        â”œâ”€â”€ Graphå®Ÿè¡Œãƒ•ã‚©ãƒ¼ãƒ 
        â”œâ”€â”€ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ¼ãƒªãƒ³ã‚°
        â”œâ”€â”€ å®Ÿè¡Œå±¥æ­´è¡¨ç¤º
        â”œâ”€â”€ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ è¡¨ç¤º
        â””â”€â”€ ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
```

### å®Ÿè¡Œãƒ•ãƒ­ãƒ¼
```
ã‚°ãƒ©ãƒ•å®Ÿè¡Œé–‹å§‹
â”œâ”€â”€ Threadä½œæˆ (createClient.threads.create)
â”œâ”€â”€ Runé–‹å§‹ (createClient.runs.create)
â”œâ”€â”€ ãƒãƒ¼ãƒªãƒ³ã‚°é–‹å§‹ (3ç§’é–“éš”)
â”‚   â”œâ”€â”€ çŠ¶æ…‹ç¢ºèª (threads.get)
â”‚   â”œâ”€â”€ pending/running â†’ ç¶™ç¶šç›£è¦–
â”‚   â””â”€â”€ idle/error/interrupted â†’ çµ‚äº†å‡¦ç†
â”œâ”€â”€ æœ€çµ‚çŠ¶æ…‹å–å¾— (threads.getState)
â”œâ”€â”€ å®Ÿè¡Œå±¥æ­´æ›´æ–°
â””â”€â”€ çµæœè¡¨ç¤º (DataFrame/JSON)
```

### çŠ¶æ…‹ç®¡ç†
- **Context API**: ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ç®¡ç†
- **URL Parameters**: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°çŠ¶æ…‹
- **Local Storage**: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š
- **React State**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçŠ¶æ…‹

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
1. **ThreadsContext**: ä¸­å¤®ãƒ‡ãƒ¼ã‚¿ç®¡ç†
2. **LangGraph SDK**: ã‚µãƒ¼ãƒãƒ¼é€šä¿¡ï¼ˆREST + WebSocketï¼‰
3. **Custom Hooks**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯åˆ†é›¢
4. **Type Safety**: TypeScriptã«ã‚ˆã‚‹å‹å®‰å…¨æ€§
5. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡**: 
   - REST API: åŸºæœ¬çš„ãªCRUDæ“ä½œ
   - ãƒãƒ¼ãƒªãƒ³ã‚°: 3ç§’é–“éš”ã§ã®çŠ¶æ…‹ç›£è¦–
   - ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°: `runs.stream()`ã§ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ
6. **çŠ¶æ…‹ç®¡ç†ãƒ‘ã‚¿ãƒ¼ãƒ³**:
   - ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹: ThreadsContext
   - ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…useState
   - URLçŠ¶æ…‹: ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
   - æ°¸ç¶šåŒ–: LocalStorage

## ğŸ¨ UI/UXãƒ‡ã‚¶ã‚¤ãƒ³

### ç¾åœ¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- **å·¦å³åˆ†å‰²**: 30%(ã‚¹ãƒ¬ãƒƒãƒ‰ä¸€è¦§) + 70%(å®Ÿè¡Œãƒ‘ãƒãƒ«)
- **ã‚µã‚¤ãƒ‰ãƒãƒ¼**: Agent Inboxé¸æŠ
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: é™å®šçš„ãªãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ

### ä¸»è¦UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **Inbox Item**: ã‚¹ãƒ¬ãƒƒãƒ‰è¡¨ç¤ºã‚«ãƒ¼ãƒ‰
- **Thread View**: è©³ç´°ã‚¹ãƒ¬ãƒƒãƒ‰è¡¨ç¤º
- **Settings Popover**: è¨­å®šãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- **Status Indicators**: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º
- **Pagination**: ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯

| ãƒ•ãƒƒã‚¯å | ç”¨é€” |
|---------|------|
| `useQueryParams` | URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç®¡ç† |
| `useScrollPosition` | ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ä¿å­˜ |
| `useLocalStorage` | ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ |
| `useInboxes` | Agent Inboxç®¡ç† |
| `useThreadsContext` | ã‚¹ãƒ¬ãƒƒãƒ‰ãƒ‡ãƒ¼ã‚¿ç®¡ç† |
| `useInterruptedActions` | HITLã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ»ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç† |

## ğŸ“Š å‹å®šç¾©

### ä¸»è¦å‹
```typescript
interface ThreadData<T> {
  thread: Thread<T>;
  status: "idle" | "busy" | "error" | "interrupted";
  interrupts?: HumanInterrupt[];
  invalidSchema?: boolean;
}

interface AgentInbox {
  id: string;
  graphId: string;
  deploymentUrl: string;
  name?: string;
  selected: boolean;
  tenantId?: string;
  createdAt: string;
}

interface HumanInterrupt {
  action_request: ActionRequest;
  config: HumanInterruptConfig;
  description?: string;
}

interface ExecutionHistoryEntry {
  runId: string;
  threadId: string;
  graphId: string;
  input: any;
  output: any;
  status: string;
  timestamp: string;
}

interface HumanResponse {
  type: "accept" | "ignore" | "response" | "edit";
  args: null | string | ActionRequest;
}
```

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶
- Node.js 18ä»¥ä¸Š
- Python 3.8ä»¥ä¸Š
- Yarn ã¾ãŸã¯ npm

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰èµ·å‹•
```bash
cd agent-inbox-main
yarn install
yarn dev
```

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰èµ·å‹•
```bash
# Pythonç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
pip install -r requirements.txt

# LangGraph Serverèµ·å‹•
langgraph serve
```

## âš™ï¸ æŠ€è¡“çš„è©³ç´°

### ã‚°ãƒ©ãƒ•å®Ÿè¡Œã‚·ã‚¹ãƒ†ãƒ 
1. **å®Ÿè¡Œãƒˆãƒªã‚¬ãƒ¼**: GraphExecutionPanelã‹ã‚‰ã®æ‰‹å‹•å®Ÿè¡Œ
2. **ãƒãƒ¼ãƒªãƒ³ã‚°ãƒ¡ã‚«ãƒ‹ã‚ºãƒ **: 
   - é–“éš”: 3ç§’
   - æœ€å¤§è©¦è¡Œ: 100å›ï¼ˆ5åˆ†é–“ï¼‰
   - ç›£è¦–å¯¾è±¡: `pending`, `running` ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
3. **ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°æ©Ÿèƒ½**:
   - `client.runs.stream()` ã«ã‚ˆã‚‹çµæœã‚’ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ 
   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ UIæ›´æ–°
   - Human-in-the-Loopå‡¦ç†ã§ã®å¿œç­”é€ä¿¡

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- **å·®åˆ†æ›´æ–°**: React.memo, useMemo, useCallbackæ´»ç”¨
- **ä»®æƒ³åŒ–**: å¤§é‡ãƒ‡ãƒ¼ã‚¿ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ–
- **é…å»¶èª­ã¿è¾¼ã¿**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
- **ãƒãƒ³ãƒ‰ãƒ«åˆ†å‰²**: ãƒšãƒ¼ã‚¸å˜ä½ã§ã®ã‚³ãƒ¼ãƒ‰åˆ†å‰²

## ğŸ“‹ é–‹ç™ºè¨ˆç”»

### æ–°ã—ã„ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆæ–¹é‡
1. **ç¾åœ¨ã®æ©Ÿèƒ½ç¶­æŒ**: æ—¢å­˜æ©Ÿèƒ½ã®å®Œå…¨ãªäº’æ›æ€§
2. **ãƒ¢ãƒ€ãƒ³UI/UX**: ã‚ˆã‚Šç›´æ„Ÿçš„ãªãƒ‡ã‚¶ã‚¤ãƒ³
3. **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ**: ãƒ¢ãƒã‚¤ãƒ«ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆå¯¾å¿œå¼·åŒ–
4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**: èª­ã¿è¾¼ã¿é€Ÿåº¦ã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ”¹å–„
5. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WCAGæº–æ‹ 

### æŠ€è¡“çš„æ”¹å–„ç‚¹
- **çŠ¶æ…‹ç®¡ç†**: Redux Toolkitã¾ãŸã¯Zustandæ¤œè¨
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡**: WebSocketå¯¾å¿œå¼·åŒ–
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥**: React Queryã¾ãŸã¯SWRå°å…¥
- **ãƒ†ã‚¹ãƒˆ**: Jestã¨ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆè¿½åŠ 
- **ç›£è¦–**: ã‚¨ãƒ©ãƒ¼ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯é–‹ç™ºä¸­ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ç¾åœ¨ã®`agent-inbox-main`ã¯ä¿æŒ
2. æ–°ã—ã„ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ§‹ç¯‰
3. æ—¢å­˜æ©Ÿèƒ½ã¨ã®äº’æ›æ€§ã‚’ç¶­æŒ
4. æ®µéšçš„ãªãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨ˆç”»

---

**æ³¨æ„**: ã“ã®ãƒ„ãƒ¼ãƒ«ã¯é–‹ç™ºä¸­ã®ãŸã‚ã€ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒã§ã®ä½¿ç”¨å‰ã«ååˆ†ãªãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ã—ã¦ãã ã•ã„ã€‚ 